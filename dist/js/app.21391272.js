(function(t){function e(e){for(var i,a,o=e[0],c=e[1],l=e[2],u=0,d=[];u<o.length;u++)a=o[u],r[a]&&d.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={1:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var p=c;s.push([4,0]),n()})({4:function(t,e,n){t.exports=n("Vtdi")},"7co4":function(t,e,n){t.exports=n.p+"img/alluminium.56d95d11.png"},EDI0:function(t,e,n){},RnhZ:function(t,e,n){var i={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function r(t){var e=s(t);return n(e)}function s(t){var e=i[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}r.keys=function(){return Object.keys(i)},r.resolve=s,t.exports=r,r.id="RnhZ"},Vtdi:function(t,e,n){"use strict";n.r(e);n("VRzm");var i=n("Kw5r"),r=n("ktUv"),s=n.n(r),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],c={name:"app"},l=c,p=(n("ZL7j"),n("KHd+")),u=Object(p["a"])(l,a,o,!1,null,null,null),d=u.exports,m=(n("xMo/"),n("jE9Z")),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home",attrs:{id:"home-d"}},[n("home-view")],1)},h=[],j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"home-view"}},[i("div",[i("img",{staticClass:"backgear-img",style:t.fixStyleBack,attrs:{src:n("7co4"),alt:"",id:"backgear"}}),i("img",{staticClass:"splash-img",style:t.fixStyle,attrs:{src:n("zzDb"),alt:"",id:"leftgear"}}),i("svg",{attrs:{id:"svg"}}),i("encyclopedia-view")],1)])},v=[],y=(n("Vd3H"),n("tUrg"),n("rGqo"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{attrs:{id:"main-items"}},t._l(t.encyclopedia,function(e){return n("encyclopedia-item",{key:e.id,attrs:{encyclopedia:e},on:{updatemstyle:function(e){t.metstyle()}}})})),n("div",{style:t.phStyles,attrs:{id:"phantom-list"}})])}),g=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item",style:t.activeStyle()},[n("div",{staticClass:"encyclopedia-item",style:t.itemWidth(),on:{click:t.onClick}},[n("div",{staticClass:"item-head",style:t.headStyle()},[n("h2",{staticClass:"text-id"},[t._v(t._s(t.encyclopedia.spot_id))]),n("h1",{staticClass:"text-head"},[t._v(t._s(t.encyclopedia.event))])]),n("div",{staticClass:"item-body"},[n("div",{staticClass:"date"},[n("h3",{staticClass:"text-date",domProps:{innerHTML:t._s(t.formatDate)}}),n("h3",{staticClass:"text-year",domProps:{innerHTML:t._s(t.formatYear)}})]),n("p",{staticClass:"text-desc",attrs:{id:t.fixid}},[n("span",{domProps:{innerHTML:t._s(t.descWithLink)}})])])])])},k=[],x=(n("pIFo"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",[t._v(t._s(t.linktext))])}),b=[],_={name:"LinkElement",props:["linkText","link"],computed:{link:function(){return this.$parent.encyclopedia.link},linkText:function(){return this.$parent.encyclopedia.linkText}}},z=_,O=Object(p["a"])(z,x,b,!1,null,null,null),D=(O.exports,n("wd/R")),T=n.n(D),M=n("EVdn"),S=n("TxqI");window["jQuery"]=window["$"]=M;var Y={name:"EncyclopediaItem",props:["encyclopedia","mstyle"],data:function(){return{currentSpot:null}},watch:{"$route.params.id":{handler:function(){this.currentSpot=this.$route.params.id;this.activeStyle();this.$emit("updatemstyle",this.currentSpot)},immediate:!0}},methods:{sanitizeTitle:function(t){var e="",n=t.toLowerCase();return e=n.replace(/e|é|è|ẽ|ẻ|ẹ|ê|ế|ề|ễ|ể|ệ/gi,"e"),e=e.replace(/a|á|à|ã|ả|ạ|ă|ắ|ằ|ẵ|ẳ|ặ|â|ấ|ầ|ẫ|ẩ|ậ/gi,"a"),e=e.replace(/o|ó|ò|õ|ỏ|ọ|ô|ố|ồ|ỗ|ổ|ộ|ơ|ớ|ờ|ỡ|ở|ợ/gi,"o"),e=e.replace(/u|ú|ù|ũ|ủ|ụ|ư|ứ|ừ|ữ|ử|ự/gi,"u"),e=e.replace(/đ/gi,"d"),e=e.replace(/\s*$/g,""),e=e.replace(/\s+/g,"-"),e},onClick:function(t){this.$router.push(this.encyclopedia.event)},activeStyle:function(){return this.encyclopedia.event==this.currentSpot?{"-webkit-transition":"all 1s",transition:"all 1s","transition-timing-function":"ease",transform:"rotate(0deg)","-webkit-transform":"rotate(0deg)","-o-transform":"rotate(0deg)","-webkit-transform-origin-x":"0vw",opacity:1,top:"0vh",position:"absolute"}:+this.$props.encyclopedia.id==+this.$props.encyclopedia.style_param-1?{"-webkit-transition":"all 1s",transition:"all 1s","transition-delay":"0.1s","transition-timing-function":"ease",opacity:0,top:"0vh",position:"absolute",transform:"rotate(-180deg)","-webkit-transform":"rotate(-180deg)","-o-transform":"rotate(-180deg)","-webkit-transform-origin-x":"0vw"}:+this.$props.encyclopedia.id==+this.$props.encyclopedia.style_param+1?{"-webkit-transition":"all 1s",transition:"all 1s","transition-delay":"0.1s","transition-timing-function":"ease",opacity:0,top:"0vh",position:"absolute",transform:"rotate(180deg)","-webkit-transform":"rotate(180deg)","-o-transform":"rotate(180deg)","-webkit-transform-origin-x":"0vw"}:{opacity:0,top:"0vh",transform:"rotate(180deg)","-webkit-transform":"rotate(180deg)","-o-transform":"rotate(180deg)","-webkit-transform-origin-x":"0vw"}},itemWidth:function(){var t=this.$parent.$parent.$parent.r_img;return console.log(t),{width:"".concat(t,"px")}},headStyle:function(){var t=this.$parent.$parent.$parent.r_img,e=this.$parent.$parent.fixStyle,n=parseInt(e.top,10)-13;return{"margin-top":"".concat(n,"px"),height:"".concat(t,"px")}}},computed:{slug_event:function(){var t=this.sanitizeTitle(this.$props.encyclopedia.event);return t},slug_spot:function(){var t=this.sanitizeTitle(this.$props.encyclopedia.spot);return t},fixid:function(){return"fix"+this.encyclopedia.id},descWithLink:function(){if(this.$props.encyclopedia.description.indexOf(this.$props.encyclopedia.link)>0){var t=this.$props.encyclopedia.description.indexOf(this.$props.encyclopedia.link),e='<a href="'+this.$props.encyclopedia.linkText+'"> ',n="</a>",i=[this.$props.encyclopedia.description.slice(0,t),e,this.$props.encyclopedia.description.slice(t,t+this.$props.encyclopedia.link.length),n,this.$props.encyclopedia.description.slice(t+this.$props.encyclopedia.link.length)].join("");return i}return this.$props.encyclopedia.description},formatDate:function(){return T()(this.$props.encyclopedia.date,"MM/DD/YYYY").format("MMM DD")},formatYear:function(){return T()(this.$props.encyclopedia.date,"MM/DD/YYYY").format("YYYY")}},mounted:function(){var t=this;this.$nextTick(function(){t.$parent.$parent.appendTimeline(),t.$parent.$parent.rotateTimeline(t.$route.params.id)})}},C=Y,E=(n("dtBa"),Object(p["a"])(C,w,k,!1,null,"1897fa77",null)),I=E.exports;window["jQuery"]=window["$"]=M;var P={name:"encyclopedia",props:["timeline"],data:function(){return{mstyle:null}},methods:{metstyle:function(){console.log("mstyle in encyclo view but currently is just a place holder to see how this get s called becuase the child emits an event")}},components:{EncyclopediaItem:I},mounted:function(){var t=this,e=t.$el;S["select"](e)},beforeMount:function(){},computed:{phStyles:function(){return{height:"".concat(500*this.$parent.items.length,"px")}},mainItemsStyles:function(){return{top:"".concat(this.$parent.$parent.r_img,"px")}},encyclopedia:function(){var t=this,e=this.$parent.items.filter(function(e,n,i){return e.event==t.$route.params.id});return this.$parent.items.forEach(function(t){t["style_param"]=e[0]["id"]}),this.$parent.items},encyclopediaph:function(){return this.$parent.items}}},V=P,Q=Object(p["a"])(V,y,g,!1,null,null,null),R=Q.exports,A=n("jXCK"),B={name:"HomeView",components:{EncyclopediaView:R},data:function(){return{currentSpot:null}},methods:{sortA:function(t,e){return t.date-e.date},getScale:function(){var t=S["scaleTime"](),e=[3*Math.PI/2,5*Math.PI/2],n=this.items,i=[n[0].date.getFullYear(),n[n.length-1].date.getFullYear()];return t.domain(i).range(e),t},convertAngleToPosition:function(t,e){var n,i=t.date.getFullYear(),r=this.$parent.r_img,s=12,a=this.getScale(),o=a(i),c=1,l=this.items.map(function(t){return t.date}).indexOf(t.date);do{l--,n=l>=0?this.items[l].date.getFullYear():null,n==i&&c++}while(n==i);var p,u=r+c*s;return"x"==e?p=u*Math.cos(o):"y"==e&&(p=u*Math.sin(o)),p},appendTimeline:function(){var t=this,e=t.$parent.r_img,n=t.fixStyle;S["selectAll"](".item-head").style("margin-top",parseInt(n.top,10)-13+"px");var i=S["select"]("#svg").select("#timeline");1==i.empty()&&(S["select"]("#svg").append("g").attr("id","timeline").attr("transform",function(){var t=e+parseInt(n.top,10);return"translate(0,".concat(t,")")}),S["select"]("#timeline").selectAll(".dots").data(t.items).enter().append("circle").attr("class","dots").attr("id",function(t){var e="d"+t.date.getFullYear()+"-"+t.date.getMonth()+"-"+t.date.getDate();return e}).attr("cx",function(e){var n=t.convertAngleToPosition(e,"x");return n}).attr("cy",function(e){var n=t.convertAngleToPosition(e,"y");return n}).attr("r",2).style("fill","white"))},rotateTimeline:function(t){var e,n;if(null!==t){var i=this.items;e=i.map(function(t){return t.event}).indexOf(t),n=i[e]}var r=n.date.getFullYear(),s=this.getScale(),a=s(r),o=180*a/Math.PI;console.log("year: ".concat(r,", radian: ").concat(a,", degree: ").concat(o));var c=this.$parent.r_img,l=this.fixStyle;S["select"]("#timeline").transition().duration(1e3).attr("transform",function(){var t=c+parseInt(l.top,10);return"translate(0,".concat(t,") rotate(").concat(-o,")")}),S["selectAll"](".dots").transition().attr("r",2).style("fill","white").transition().delay(1e3).attr("r",function(t){return t.date.getTime()==n.date.getTime()?4:2}).style("fill",function(t){return t.date.getTime()==n.date.getTime()?"black":"white"})}},computed:{items:function(){var t=this,e=[];t.$parent.items.forEach(function(t){var n=new Date(t.date);e.push({date:n,coord_lat:t.coord_lat,coord_lon:t.coord_lon,event:t.event,description:t.description,id:t.id,link:t.link,linkText:t.linkText,spot:t.spot,spot_id:t.spot_id})}),e=e.sort(t.sortA);for(var n=0;n<e.length;n+=1)e[n].id=n;return console.log("soer?",e),e},fixStyleBack:function(){var t=this.$parent.r_img_bk,e=2*t,n=2*t;return{height:"".concat(e,"px"),width:"".concat(n,"px"),left:"".concat(-n/2,"px"),top:"".concat(-t+$(window)[0].screen.availHeight/2,"px")}},fixStyle:function(){var t=this.$parent.r_img;return{height:"".concat(2*t,"px"),width:"".concat(2*t,"px"),top:"".concat($(window)[0].screen.availHeight/18,"px"),left:"-".concat(t,"px")}}},mounted:function(){var t=this;this.$nextTick(function(){A("every 300px",function(){var e,n=t.items.filter(function(e,n,i){return e.event==t.$route.params.id});switch(t.scrollDir){case 0:e=+n[0].id-1;break;case 1:e=+n[0].id+1;break}var i=t.items.filter(function(t,n,i){return t.id==e});t.$router.push(i[0].event),null!==i[0].event&&t.rotateTimeline(i[0].event)}),$(window).scroll(function(){var e=$(window).scrollTop(),n=($("#home-view").innerHeight(),$(window)[0].screen.availHeight,e-t.offset);t.scrollDir=n>0?1:0,t.offset=e,e*=.1,$("#leftgear").css({"-moz-transform":"rotate("+e+"deg)","-webkit-transform":"rotate("+e+"deg)","-o-transform":"rotate("+e+"deg)","-ms-transform":"rotate("+e+"deg)",transform:"rotate("+e+"deg)"})})})}},H=B,F=Object(p["a"])(H,j,v,!1,null,null,null),L=F.exports;window["jQuery"]=window["$"]=M;var U={name:"home",components:{HomeView:L},data:function(){return{items:[]}},computed:{r_img_bk:function(){return Math.sqrt(Math.pow(M(window)[0].screen.availHeight,2)+Math.pow(M(window)[0].screen.availWidth,2))},r_img:function(){var t=M(window)[0].screen.availHeight/2;return t}},methods:{},mounted:function(){var t=this;S["queue"]().defer(S["csv"],"data.csv").await(function(e,n){t.items=n})}},W=U,Z=Object(p["a"])(W,f,h,!1,null,null,null),X=Z.exports;i["a"].use(m["a"]);var J=new m["a"]({routes:[{path:"/",redirect:"/encyclopedia-item/Trees Provide Relief"},{path:"/",name:"home",component:X,children:[{path:"/encyclopedia-item/:id",name:"encyclopedia-item",component:I,props:!0}]}]}),K=n("8Tyq"),q=n.n(K),N=n("t4C+"),G=n.n(N);i["a"].config.productionTip=!1,i["a"].use(s.a),i["a"].use(q.a),i["a"].use(G.a),new i["a"]({router:J,render:function(t){return t(d)}}).$mount("#app")},ZL7j:function(t,e,n){"use strict";var i=n("EDI0"),r=n.n(i);r.a},dtBa:function(t,e,n){"use strict";var i=n("qZFa"),r=n.n(i);r.a},qZFa:function(t,e,n){},zzDb:function(t,e,n){t.exports=n.p+"img/alluminium_blurred_10.3d9831ba.png"}});
//# sourceMappingURL=app.21391272.js.map